<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="birdsize">
<title>bbs-data • birdsize</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="bbs-data">
<meta property="og:description" content="birdsize">
<meta property="og:image" content="https://docs.ropensci.org/birdsize/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">birdsize</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../articles/birdsize.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/bbs-data.html">bbs-data</a>
    <a class="dropdown-item" href="../articles/scaling.html">scaling</a>
    <a class="dropdown-item" href="../articles/species.html">species</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/diazrenata/birdsize/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>bbs-data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/diazrenata/birdsize/blob/HEAD/vignettes/bbs-data.Rmd" class="external-link"><code>vignettes/bbs-data.Rmd</code></a></small>
      <div class="d-none name"><code>bbs-data.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/diazrenata/birdsize" class="external-link">birdsize</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="birdsize-for-the-breeding-bird-survey">birdsize for the Breeding Bird Survey<a class="anchor" aria-label="anchor" href="#birdsize-for-the-breeding-bird-survey"></a>
</h2>
<p><code>birdsize</code> is written to interface naturally with data from the North American Breeding Bird Survey (Pardieck et al. 2019). Beginning with data from a BBS route, <code>birdsize</code> can directly simulate body size and basal metabolic rate measurements and calculate year- or species-wide summary statistics.</p>
<div class="section level3">
<h3 id="obtaining-data">Obtaining data<a class="anchor" aria-label="anchor" href="#obtaining-data"></a>
</h3>
<p>Data releases for the Breeding Bird Survey are available on ScienceBase, e.g. <a href="https://doi.org/10.5066/P9J6QUF6" class="external-link">here</a>.</p>
<p>The <a href="https://retriever.readthedocs.io/en/latest/" class="external-link">Data Retriever</a> also provides an interface for downloading recent releases. Instructions for installing the Data Retriever for R are available <a href="https://docs.ropensci.org/rdataretriever/#basic-installation" class="external-link">here</a>.</p>
<p><code>birdsize</code> includes a demo dataset with the same column names as the Breeding Bird Survey data available through ScienceBase or the Retriever, but with synthetic data. For an explanation of each of the column names, see the Help page for <a href="../reference/demo_route_raw.html">demo_route_raw</a> or the metadata available on ScienceBase.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">demo_raw_data</span> <span class="op">&lt;-</span> <span class="fu">birdsize</span><span class="fu">::</span><span class="va"><a href="../reference/demo_route_raw.html">demo_route_raw</a></span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">demo_raw_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;   record_id   routedataid countrynum statenum route rpid year  AOU count10</span></span>
<span><span class="co">#&gt; 1    900000 9009911011994        900       99     1  101 1994 4730       8</span></span>
<span><span class="co">#&gt; 2    900001 9009911011995        900       99     1  101 1995 4730      13</span></span>
<span><span class="co">#&gt; 3    900002 9009911011996        900       99     1  101 1996 4730       8</span></span>
<span><span class="co">#&gt; 4    900003 9009911011997        900       99     1  101 1997 4730       9</span></span>
<span><span class="co">#&gt; 5    900004 9009911011998        900       99     1  101 1998 4730      10</span></span>
<span><span class="co">#&gt; 6    900005 9009911011999        900       99     1  101 1999 4730      12</span></span>
<span><span class="co">#&gt;   count20 count30 count40 count50 stoptotal speciestotal</span></span>
<span><span class="co">#&gt; 1      12      15      12      15         5           62</span></span>
<span><span class="co">#&gt; 2       9      11      10      10         5           53</span></span>
<span><span class="co">#&gt; 3      11       9      13      15         5           56</span></span>
<span><span class="co">#&gt; 4      13      16       9      12         5           59</span></span>
<span><span class="co">#&gt; 5       6      12       8       7         5           43</span></span>
<span><span class="co">#&gt; 6      13       5       9       5         5           44</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="cleaning-data">Cleaning data<a class="anchor" aria-label="anchor" href="#cleaning-data"></a>
</h3>
<p>Following Harris et al. (2018), it is recommended to filter the raw BBS data to remove taxa that are poorly sampled via the BBS methods (e.g. nightbirds, waterbirds) and to remove unidenitifed taxa. The <code>filter_bbs_survey</code> function performs this cleaning:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">demo_clean_data</span> <span class="op">&lt;-</span> <span class="fu">birdsize</span><span class="fu">::</span><span class="fu"><a href="../reference/filter_bbs_survey.html">filter_bbs_survey</a></span><span class="op">(</span><span class="va">demo_raw_data</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">demo_clean_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;   record_id   routedataid countrynum statenum route rpid year  AOU count10</span></span>
<span><span class="co">#&gt; 1    900000 9009911011994        900       99     1  101 1994 4730       8</span></span>
<span><span class="co">#&gt; 2    900001 9009911011995        900       99     1  101 1995 4730      13</span></span>
<span><span class="co">#&gt; 3    900002 9009911011996        900       99     1  101 1996 4730       8</span></span>
<span><span class="co">#&gt; 4    900003 9009911011997        900       99     1  101 1997 4730       9</span></span>
<span><span class="co">#&gt; 5    900004 9009911011998        900       99     1  101 1998 4730      10</span></span>
<span><span class="co">#&gt; 6    900005 9009911011999        900       99     1  101 1999 4730      12</span></span>
<span><span class="co">#&gt;   count20 count30 count40 count50 stoptotal speciestotal</span></span>
<span><span class="co">#&gt; 1      12      15      12      15         5           62</span></span>
<span><span class="co">#&gt; 2       9      11      10      10         5           53</span></span>
<span><span class="co">#&gt; 3      11       9      13      15         5           56</span></span>
<span><span class="co">#&gt; 4      13      16       9      12         5           59</span></span>
<span><span class="co">#&gt; 5       6      12       8       7         5           43</span></span>
<span><span class="co">#&gt; 6      13       5       9       5         5           44</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="simulating-individual-level-measurements">Simulating individual-level measurements<a class="anchor" aria-label="anchor" href="#simulating-individual-level-measurements"></a>
</h3>
<p>The <code>community_generate</code> function will generate individual-level size and BMR estimates for all individuals recorded in a community data frame of the type available from ScienceBase, the Retriever, or the included demo data:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2022</span><span class="op">)</span></span>
<span></span>
<span><span class="va">demo_community</span> <span class="op">&lt;-</span> <span class="fu">birdsize</span><span class="fu">::</span><span class="fu"><a href="../reference/community_generate.html">community_generate</a></span><span class="op">(</span><span class="va">demo_clean_data</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">demo_community</span><span class="op">)</span></span>
<span><span class="co">#&gt;   record_id   routedataid countrynum statenum route rpid year count10 count20</span></span>
<span><span class="co">#&gt; 1    900000 9009911011994        900       99     1  101 1994       8      12</span></span>
<span><span class="co">#&gt; 2    900000 9009911011994        900       99     1  101 1994       8      12</span></span>
<span><span class="co">#&gt; 3    900000 9009911011994        900       99     1  101 1994       8      12</span></span>
<span><span class="co">#&gt; 4    900000 9009911011994        900       99     1  101 1994       8      12</span></span>
<span><span class="co">#&gt; 5    900000 9009911011994        900       99     1  101 1994       8      12</span></span>
<span><span class="co">#&gt; 6    900000 9009911011994        900       99     1  101 1994       8      12</span></span>
<span><span class="co">#&gt;   count30 count40 count50 stoptotal speciestotal  AOU sim_species_id</span></span>
<span><span class="co">#&gt; 1      15      12      15         5           62 4730           4730</span></span>
<span><span class="co">#&gt; 2      15      12      15         5           62 4730           4730</span></span>
<span><span class="co">#&gt; 3      15      12      15         5           62 4730           4730</span></span>
<span><span class="co">#&gt; 4      15      12      15         5           62 4730           4730</span></span>
<span><span class="co">#&gt; 5      15      12      15         5           62 4730           4730</span></span>
<span><span class="co">#&gt; 6      15      12      15         5           62 4730           4730</span></span>
<span><span class="co">#&gt;   individual_mass individual_bmr mean_size  sd_size abundance  sd_method</span></span>
<span><span class="co">#&gt; 1        40.44602       146.8560    37.475 3.300613        62 AOU lookup</span></span>
<span><span class="co">#&gt; 2        33.60224       128.6737    37.475 3.300613        62 AOU lookup</span></span>
<span><span class="co">#&gt; 3        34.51275       131.1501    37.475 3.300613        62 AOU lookup</span></span>
<span><span class="co">#&gt; 4        32.70726       126.2207    37.475 3.300613        62 AOU lookup</span></span>
<span><span class="co">#&gt; 5        36.38245       136.1775    37.475 3.300613        62 AOU lookup</span></span>
<span><span class="co">#&gt; 6        27.90115       112.6984    37.475 3.300613        62 AOU lookup</span></span>
<span><span class="co">#&gt;   scientific_name</span></span>
<span><span class="co">#&gt; 1 Alauda arvensis</span></span>
<span><span class="co">#&gt; 2 Alauda arvensis</span></span>
<span><span class="co">#&gt; 3 Alauda arvensis</span></span>
<span><span class="co">#&gt; 4 Alauda arvensis</span></span>
<span><span class="co">#&gt; 5 Alauda arvensis</span></span>
<span><span class="co">#&gt; 6 Alauda arvensis</span></span></code></pre></div>
<p>The first 15 columns (<code>record_id</code> through <code>AOU</code>) are retained from the input data. For species in the BBS, <code>sim_species_id</code> is identical to the AOU used for species identification. <code>scientific_name</code> gives the scientific name associated with the AOU. <code>individual_mass</code> and <code>individual_bmr</code> are <em>individual-level</em> mass and BMR estimates, with one for each individual recorded in the input data. <code>mean_size</code>, <code>sd_size</code>, <code>abundance</code>, and <code>sd_method</code> give the parameters used to generate the individual-level estimates.</p>
</div>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<p>Harris DJ, Taylor SD, White EP. 2018. Forecasting biodiversity in breeding birds using best practices. PeerJ 6:e4278 <a href="https://doi.org/10.7717/peerj.4278" class="external-link uri">https://doi.org/10.7717/peerj.4278</a></p>
<p>Pardieck, K.L., Ziolkowski Jr., D.J., Lutmerding, M., Aponte, V., and Hudson, M-A.R., 2019, North American Breeding Bird Survey Dataset 1966 - 2018 (ver. 2018.0): U.S. Geological Survey, Patuxent Wildlife Research Center, <a href="https://doi.org/10.5066/P9HE8XYJ" class="external-link uri">https://doi.org/10.5066/P9HE8XYJ</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
